# Node Lab 风格改造施工方案（v0.1）

目标：在不大改业务逻辑的前提下，逐步用 Node Lab 深色简洁风统一全局界面。优先统一「基色+按钮体系」，再推进工具条/卡片/表单。

## 阶段 0：准备
- 引入全局主题 Token：按照 `node-lab-style-guide.md` 定义 CSS 变量（或 Tailwind theme.extend），统一色值/圆角/阴影。
- 设计对齐：确认主色（绿/蓝）、文本对比度、圆角梯度（8/12/16）、阴影规范。

## 阶段 1：基础底色与顶栏统一（优先）
- **AppShell 背景**：将主背景、内容区背景调整为深色基调（`--bg-base`, `--bg-panel`），文字改为浅色。
- **顶栏**：沿用 Node Lab 弹性 pill 样式：半透明深底 + 细边框 + 轻阴影。按钮统一 pill，文字 12–14px，图标 16–18px。
- **分隔/边框**：全局 1px `--border-subtle`，减少粗线。
- **主按钮**：Run/Export 等使用 `--accent-green`/`--accent-blue`，其他按钮用深灰背景。

## 阶段 2：工具条/菜单统一
- 将现有下拉、弹窗、菜单改为暗底 + 细边框 + 圆角 12–16px + 轻阴影，背景可用微弱渐变。
- Hover/Active：轻量提亮或边框变亮，不使用高对比。
- Tooltip/Toast：深色底、浅文字、圆角 8–10px。

## 阶段 3：卡片与列表
- 模块卡片（Assets/Script/Video 等）背景改为 `--bg-panel`，文字/分隔统一；卡片圆角 12–16px。
- 表格/列表 Header 改为深色底 + 细线分隔；高亮行用低透明度浅灰。
- 滚动条与 Node Lab 保持一致（细，深色轨道）。

## 阶段 4：表单与控件
- 输入/选择框使用深灰背景、浅色文字、圆角 10–12px；聚焦时边框轻微提亮。
- 按钮组、标签页、Segment 控件统一用 pill 样式。
- Switch/Checkbox 采用线性风格，主色用蓝/绿。

## 阶段 5：特殊组件适配
- 图表、MiniMap、浮动工具栏：遵循深色卡片、细边框、柔和阴影。
- React Flow 控件样式已在 Node Lab，可复用到其它需要画布的区域。

## 落地顺序（建议迭代）
1. **Theme 注入**：在全局（index.css/Tailwind config）落地 Token，建立基础色/圆角/阴影变量。
2. **AppShell & 顶栏**：先统一背景/文本/按钮风格，确保全局第一屏一致。
3. **卡片框架**：调整各模块的卡片外观（背景/边框/圆角/阴影），不改内部逻辑。
4. **菜单/弹窗**：统一菜单/弹层样式，收敛 hover/active。
5. **表单/列表**：逐步替换输入、表格 header/body 的颜色与圆角。
6. **模块专项**：针对 Video/Assets/Script 细化适配（图表、表单复杂度较高）。

## 兼容与验证
- 对比度检查：浅文字在深底，确保 WCAG 基础可读性；Hover/禁用透明度合理。
- 交互回归：重点检查按钮、菜单、弹窗、表单焦点态。
- 响应式：保持最小触控面积 44px，移动端浮层不超屏。

## 备注
- 优先使用 Token，避免散落色值；能用全局类/主题就不用局部硬编码。
- 动画控制在 120–160ms，淡入/缩放，克制。***
